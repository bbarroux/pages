<html lang="en">
<head>
    <title>new tab playground</title>
    <script type="text/javascript">
        const url = "https://example.com";

        setTimeout(()=> window.open("https://example.com"), 5000);
        function openTab() {
            window.open(url);
            event.preventDefault();
        }

        function fetchThenOpen() {
            window.fetch(window.location.href).then(_ => window.open(url));
            event.preventDefault();

        }
        function fetchThenTimeoutOpen() {
            setTimeout(()=>window.fetch(window.location.href).then(_ => setTimeout(() => window.open(url), 1000)),500)
            event.preventDefault();

        }

        function openThenFetch() {
            const newTab = window.open();
            window.fetch(window.location.href).then(_ => newTab.location = "https://example.com");
            event.preventDefault();

        }
    </script>
    <style>a{display: block}</style>
</head>
<body>
<h3>Welcome on the <b>Open in new Tab</b> Playground </h3>
<a href="https://example.com" target="_blank">Direct link</a>
<a href="#" onclick="openTab();">window.open</a>
<a href="#" onclick="fetchThenOpen();">fetch then window.open</a>
<a href="#" onclick="fetchThenTimeoutOpen();">fetch then window.open in timeout</a>
<a href="#" onclick="openThenFetch();">Javascript : open window then fetch then set opened window location</a>
</body>
</html>
